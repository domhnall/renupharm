- carousel_id = "#{defined?(context) ? context : "product"}_#{product.id}_carousel"
.carousel.slide{id: carousel_id, data: {ride: "carousel", interval: "0"}}
  .carousel-inner
    - product.images.each_with_index do |image, i|
      .carousel-item{ class: i==0 ? 'active' : '' }
        = image_tag(image, class: "d-block w-100 img-product")

  - if product.images.size > 1
    %a.carousel-control-prev{"data-slide" => "prev", :href => "##{carousel_id}", :role => "button"}
      %span.carousel-control-prev-icon{"aria-hidden" => "true"}
      %span.sr-only= t("general.previous")
    %a.carousel-control-next{"data-slide" => "next", :href => "##{carousel_id}", :role => "button"}
      %span.carousel-control-next-icon{"aria-hidden" => "true"}
      %span.sr-only= t("general.next")
