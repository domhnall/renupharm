.row
  .col-md-12
    .card
      %table#sales_pharmacies.table
        %thead
          %tr
            %td
              = t("sales.pharmacy.name")
            %td
              = t("sales.pharmacy.proprietor")
            %td
              = t("sales.pharmacy.address")
            %td
              = t("sales.pharmacy.email")
            %td
              = t("sales.pharmacy.telephone")
            %td
              = t("sales.pharmacy.fax")
            %td.controls
        %tbody
          - Sales::Pharmacy.find_in_batches(batch_size: 100) do |pharmacy_group|
            - pharmacy_group.each do |pharmacy|
              %tr
                %td= pharmacy.name
                %td= pharmacy.proprietor
                %td= pharmacy.address
                %td= pharmacy.email
                %td= pharmacy.telephone
                %td= pharmacy.fax
                %td.controls
                  %span.edit
                    = link_to edit_admin_sales_pharmacy_path(pharmacy) do
                      %i.fa.fa-pencil-alt
                  %span.view
                    = link_to admin_sales_pharmacy_path(pharmacy) do
                      %i.fa.fa-eye
      .actions
        = link_to t("general.new"), new_admin_sales_pharmacy_path, class: 'btn btn-success'


:javascript
  (function(event){
    let table = new DataTable("#sales_pharmacies");
  })();
